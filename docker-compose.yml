version: "3"
services:
  bootstrap:
    build: .
    command: "go run -mod=vendor ./tester/bootstrap"   
    networks:
      default:
        ipv4_address: 172.16.245.10
    ports:
      - "34001:34001"

  swapper1:
    build: .
    command: "go run -mod=vendor ./tester/swapper -puts"

  swapper2:
    build: .
    command: "go run -mod=vendor ./tester/swapper"

  swapper3:
    build: .
    command: "go run -mod=vendor ./tester/swapper"    

  swapper4:
    build: .
    command: "go run -mod=vendor ./tester/swapper"    

  swapper5:
    build: .
    command: "go run -mod=vendor ./tester/swapper"    

  swapper6:
    build: .
    command: "go run -mod=vendor ./tester/swapper"    

networks:
  default:
    driver: bridge
    ipam:
      driver: default
      config:
        - subnet: 172.16.245.0/24
